/*
 *             Copyright (c) 2016 - 2020, CKSource - Frederico Knabben. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x4d7e=['collapse','_config','isCollapsed','switchToEditMode','remove','content','once','focus','maxCommentCharsWhenCollapsed','get','cancel','visibleView','editorConfig','expand','set','editorReady','value','_createCommentInputView','_model','disabledSubmit','isEditMode','element','switchToDisplayMode','bind','add','locale','destroy'];(function(_0x5692ef,_0x4d7e73){const _0x19b07c=function(_0x4c31d9){while(--_0x4c31d9){_0x5692ef['push'](_0x5692ef['shift']());}};_0x19b07c(++_0x4d7e73);}(_0x4d7e,0x1d0));const _0x19b0=function(_0x5692ef,_0x4d7e73){_0x5692ef=_0x5692ef-0x0;let _0x19b07c=_0x4d7e[_0x5692ef];return _0x19b07c;};import _0x3f8d81 from'@ckeditor/ckeditor5-ui/src/view';import _0x3268f7 from'./commentcontentview';import _0x4df42d from'./commentinputview';import _0x8397f1 from'../../../utils/trim-html';export default class xt extends _0x3f8d81{constructor(_0x341380,_0x1dd57d,_0x3a5a3e){super(_0x341380),this['_model']=_0x1dd57d,this[_0x19b0('0x17')]=_0x3a5a3e,this[_0x19b0('0x9')]('isEditMode',!0x1),this['set'](_0x19b0('0x18'),!0x0),this[_0x19b0('0x6')]=this['createCollection'](),this[_0x19b0('0x6')]['add'](this['wt']());}[_0x19b0('0x8')](){this[_0x19b0('0x18')]=!0x1;}[_0x19b0('0x16')](){this['isEditMode']||(this[_0x19b0('0x18')]=!0x0);}['focus'](){this[_0x19b0('0x10')][_0x19b0('0x2')]();}[_0x19b0('0x15')](){this[_0x19b0('0x6')][_0x19b0('0x4')](0x0)[_0x19b0('0x15')](),super[_0x19b0('0x15')]();}[_0x19b0('0x19')](){this[_0x19b0('0xf')]||(this[_0x19b0('0xf')]=!0x0,this[_0x19b0('0x6')][_0x19b0('0x1a')](0x0)[_0x19b0('0x15')](),this['visibleView'][_0x19b0('0x13')](this[_0x19b0('0xc')]()));}[_0x19b0('0x11')](){this[_0x19b0('0xf')]&&(this[_0x19b0('0xf')]=!0x1,this['visibleView']['remove'](0x0)[_0x19b0('0x15')](),this[_0x19b0('0x6')][_0x19b0('0x13')](this['wt']()));}['wt'](){const _0x5c839f=new _0x3268f7(this[_0x19b0('0x14')]);return _0x5c839f['bind'](_0x19b0('0x0'))['to'](this[_0x19b0('0xd')],_0x19b0('0x0'),this,'isCollapsed',(_0x28c9a1,_0x2e679c)=>_0x2e679c?_0x8397f1(_0x28c9a1,{'limit':this[_0x19b0('0x17')][_0x19b0('0x3')]}):_0x28c9a1),_0x5c839f;}['_createCommentInputView'](){this[_0x19b0('0x17')][_0x19b0('0x7')]||(this[_0x19b0('0x17')][_0x19b0('0x7')]={}),this[_0x19b0('0x17')]['editorConfig']['initialData']=this[_0x19b0('0xd')][_0x19b0('0x0')];const _0x1c7e9a=new _0x4df42d(this['locale'],this[_0x19b0('0x17')][_0x19b0('0x7')]);return _0x1c7e9a[_0x19b0('0xb')]=this['_model']['content'],_0x1c7e9a[_0x19b0('0x12')](_0x19b0('0xe'))['to'](this['_model'],'isReadOnly'),_0x1c7e9a['on']('submit',(_0x5bfda5,_0x413ac8)=>{this['fire']('updateComment',this['_model']['id'],_0x413ac8),this[_0x19b0('0x11')](),this[_0x19b0('0x2')]();}),_0x1c7e9a['on'](_0x19b0('0x5'),()=>{this[_0x19b0('0x11')](),this[_0x19b0('0x2')]();}),_0x1c7e9a[_0x19b0('0x1')](_0x19b0('0xa'),()=>{_0x1c7e9a[_0x19b0('0x2')]();}),_0x1c7e9a;}}