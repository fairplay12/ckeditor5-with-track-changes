/*
 *             Copyright (c) 2016 - 2020, CKSource - Frederico Knabben. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0xa36b=['isAttached','southArrowNorthEast','isDirty','Sidebar','mousedown','bind','stopListening','southArrowNorthWest','Esc','keydown','remove','target','high','change:activeView','set:container','northArrowSouthEast','contains','getAnnotationView','isAnimationDisabled','context','set','Annotations','get','northArrowSouthWest','requires','bodyCollection','keyCode','attachToDom','_annotationViewToNarrowView','change:container','listenTo','detach','from','narrowSidebar','_detachFromContainer','values','length','add','delete','attach','refresh','plugins','_attachToContainer','isVisible','balloonPanelView','getSidebarItemView','pluginName','bindTo','content','destroy','clear','using','activeView','view','has','esc','change:selectedViews','defaultPositions','customView','items','focus','first','includes','preventDefault','element','NarrowSidebar','detachFromDom','locale','off'];(function(_0x323c39,_0xa36b90){const _0x58ea2e=function(_0x38b3b9){while(--_0x38b3b9){_0x323c39['push'](_0x323c39['shift']());}};_0x58ea2e(++_0xa36b90);}(_0xa36b,0x137));const _0x58ea=function(_0x323c39,_0xa36b90){_0x323c39=_0x323c39-0x0;let _0x58ea2e=_0xa36b[_0x323c39];return _0x58ea2e;};import _0x18e48f from'@ckeditor/ckeditor5-core/src/contextplugin';import _0x105b19 from'./annotations';import _0x48adbb from'./sidebar';import _0x15cc11 from'./view/annotationcounterbuttonview';import _0x394b7c from'@ckeditor/ckeditor5-ui/src/panel/balloon/balloonpanelview';import _0x2878e5 from'@ckeditor/ckeditor5-ui/src/editorui/bodycollection';import _0x1b900d from'@ckeditor/ckeditor5-utils/src/ckeditorerror';import _0x36a894 from'@ckeditor/ckeditor5-utils/src/dom/emittermixin';import{keyCodes as _0x24fd93}from'@ckeditor/ckeditor5-utils/src/keyboard';import'../../theme/sidebar-narrow.css';export default class x extends _0x18e48f{static get[_0x58ea('0x3a')](){return[_0x48adbb,_0x105b19];}static get[_0x58ea('0xb')](){return _0x58ea('0x1e');}constructor(_0x42196c){super(_0x42196c),this['isAttached']=!0x1,this['v']=new Set(),this['S']=Object['create'](_0x36a894),this[_0x58ea('0x3e')]=new Map();}['init'](){this[_0x58ea('0x35')][_0x58ea('0x6')][_0x58ea('0x38')](_0x58ea('0x37'))['register'](_0x58ea('0x43'),this),this[_0x58ea('0x3b')]=new _0x2878e5(this[_0x58ea('0x35')][_0x58ea('0x20')]),this['bodyCollection'][_0x58ea('0x3d')](),this[_0x58ea('0x9')]=new _0x394b7c(this[_0x58ea('0x35')][_0x58ea('0x20')]),this[_0x58ea('0x3b')][_0x58ea('0x2')](this[_0x58ea('0x9')]);}[_0x58ea('0x4')](){const _0x3cb05f=this['context'][_0x58ea('0x6')][_0x58ea('0x38')]('Sidebar'),_0x5c8355=this[_0x58ea('0x35')][_0x58ea('0x6')][_0x58ea('0x38')](_0x58ea('0x37')),_0x33a33a=this[_0x58ea('0x9')];if(this[_0x58ea('0x22')])throw new _0x1b900d('narrowsidebar-attach-already-attached:\x20Cannot\x20attach\x20narrow\x20sidebar\x20twice.',this);this[_0x58ea('0x22')]=!0x0,this[_0x58ea('0x40')](_0x3cb05f,_0x58ea('0x30'),()=>{this[_0x58ea('0x41')](),this[_0x58ea('0x40')](_0x3cb05f,_0x58ea('0x3f'),_0x1714a9=>{_0x1714a9[_0x58ea('0x21')](),this[_0x58ea('0x4')]();});}),_0x3cb05f[_0x58ea('0x7')]({'viewClass':'ck-sidebar--narrow','spaceBetweenItems':0x5}),_0x3cb05f[_0x58ea('0x12')]['list'][_0x58ea('0xc')](_0x5c8355['items'])[_0x58ea('0x10')](_0x306cf6=>{const _0x36996e=new _0x15cc11(this[_0x58ea('0x35')][_0x58ea('0x20')]),_0x594c64=_0x3cb05f['addView'](_0x306cf6,_0x36996e);return this['_annotationViewToNarrowView'][_0x58ea('0x36')](_0x306cf6,_0x36996e),_0x36996e[_0x58ea('0x27')](_0x58ea('0x24'),'annotationType','number')['to'](_0x306cf6,_0x58ea('0x24'),'type',_0x58ea('0x1')),_0x36996e['on']('execute',()=>{this['v'][_0x58ea('0xf')](),_0x33a33a[_0x58ea('0xd')][_0x58ea('0x1a')]!==_0x306cf6?(this['_'](_0x306cf6),_0x306cf6[_0x58ea('0x1d')][_0x58ea('0x19')](),_0x5c8355[_0x58ea('0x11')]=_0x306cf6[_0x58ea('0x17')]):this['B']();}),_0x594c64;}),this[_0x58ea('0x40')](_0x5c8355[_0x58ea('0x18')],_0x58ea('0x2c'),(_0xaeb2cd,_0x18245f)=>{this[_0x58ea('0x3e')]['get'](_0x18245f)[_0x58ea('0xe')](),this[_0x58ea('0x3e')][_0x58ea('0x3')](_0x18245f);}),this['listenTo'](_0x5c8355,_0x58ea('0x2f'),(_0x499df6,_0x2e2ab8,_0x138eb1,_0x2472f9)=>{if(_0x2472f9){const _0x10b9bf=_0x5c8355[_0x58ea('0x33')](_0x2472f9);if(!_0x10b9bf)return;_0x3cb05f[_0x58ea('0xa')](_0x10b9bf)[_0x58ea('0x34')]=!0x1;}if(_0x138eb1){const _0x3361ec=_0x5c8355['getAnnotationView'](_0x138eb1);_0x3cb05f[_0x58ea('0xa')](_0x3361ec)[_0x58ea('0x34')]=!0x0;}},{'priority':_0x58ea('0x2e')}),this[_0x58ea('0x40')](_0x5c8355,_0x58ea('0x2f'),(_0x55d676,_0x5a5871,_0x1a9d85)=>{const _0x442661=_0x5c8355['getAnnotationView'](_0x1a9d85),_0x3157d4=_0x3cb05f[_0x58ea('0xa')](_0x442661);_0x1a9d85&&_0x3157d4?this['_'](_0x442661):this['B']();}),this[_0x58ea('0x40')](_0x5c8355,_0x58ea('0x15'),(_0x1bdaf6,_0x2b70e8,_0x42616d,_0x48f785)=>{for(const _0xc0ce59 of _0x48f785)_0x42616d[_0x58ea('0x1b')](_0xc0ce59)||this['v'][_0x58ea('0x3')](_0x5c8355['getAnnotationView'](_0xc0ce59));}),this[_0x58ea('0x40')](_0x5c8355,_0x58ea('0x5'),()=>{_0x33a33a[_0x58ea('0x8')]&&this['D']();}),this['S'][_0x58ea('0x40')](document,_0x58ea('0x2b'),(_0x1b454a,_0x2ba728)=>{_0x2ba728[_0x58ea('0x3c')]===_0x24fd93[_0x58ea('0x14')]&&_0x33a33a[_0x58ea('0x8')]&&(this['v'][_0x58ea('0x2')](_0x33a33a[_0x58ea('0xd')]['first']),this['B'](),_0x2ba728['stopPropagation'](),_0x2ba728[_0x58ea('0x1c')]());}),this['S'][_0x58ea('0x40')](document,_0x58ea('0x26'),(_0xb7234,_0x4eaa6a)=>{const _0x544e42=_0x4eaa6a[_0x58ea('0x2d')];_0x33a33a['isVisible']&&_0x33a33a[_0x58ea('0x1d')][_0x58ea('0x32')](_0x544e42)||_0x3cb05f[_0x58ea('0x12')][_0x58ea('0x1d')]['contains'](_0x544e42)||(this['v'][_0x58ea('0xf')](),this['B']());});}['detach'](){if(!this[_0x58ea('0x22')])throw new _0x1b900d('narrowsidebar-detach-not-attached:\x20Cannot\x20detach\x20not\x20attached\x20sidebar.',this);const _0x3b89a4=this[_0x58ea('0x35')][_0x58ea('0x6')][_0x58ea('0x38')](_0x58ea('0x25'));this['B'](),Array[_0x58ea('0x42')](this['_annotationViewToNarrowView'][_0x58ea('0x0')](),_0xe72008=>_0xe72008['destroy']()),this[_0x58ea('0x3e')][_0x58ea('0xf')](),_0x3b89a4[_0x58ea('0x44')](),this[_0x58ea('0x28')](),this['S']['stopListening'](),this[_0x58ea('0x22')]=!0x1;}[_0x58ea('0xe')](){this[_0x58ea('0x22')]&&this[_0x58ea('0x41')](),this[_0x58ea('0x3b')][_0x58ea('0x1f')]();}['_'](_0x35fc94){if(this['v']['has'](_0x35fc94))return;const _0x257db5=this['balloonPanelView'][_0x58ea('0xd')][_0x58ea('0x1a')];_0x257db5!==_0x35fc94?(_0x257db5&&this['L'](_0x257db5),this['N'](_0x35fc94),this[_0x58ea('0x9')]['content'][_0x58ea('0xf')](),this[_0x58ea('0x9')][_0x58ea('0xd')][_0x58ea('0x2')](_0x35fc94),this['D']()):this['D']();}['D'](){const _0x46237b=this[_0x58ea('0x9')]['content']['first'];if(!this[_0x58ea('0x3e')][_0x58ea('0x13')](_0x46237b))return;const _0x3be353=this[_0x58ea('0x3e')][_0x58ea('0x38')](_0x46237b)[_0x58ea('0x1d')],_0x5dc571=function(){const _0x517172=_0x394b7c[_0x58ea('0x16')];return[_0x517172[_0x58ea('0x23')],_0x517172[_0x58ea('0x31')],_0x517172['southArrowNorth'],_0x517172['northArrowSouth'],_0x517172[_0x58ea('0x29')],_0x517172[_0x58ea('0x39')]];}();this[_0x58ea('0x9')]['pin']({'target':_0x3be353,'positions':_0x5dc571});}['B'](){const _0x17ccf6=this[_0x58ea('0x9')],_0x36ded1=_0x17ccf6[_0x58ea('0xd')]['first'];_0x36ded1&&(this['L'](_0x36ded1),_0x17ccf6['unpin'](),_0x17ccf6[_0x58ea('0xd')][_0x58ea('0xf')]());}['N'](_0x42e740){this[_0x58ea('0x40')](_0x42e740,'change:height',()=>this['D']()),this[_0x58ea('0x40')](_0x42e740,_0x58ea('0x2a'),(_0x501da7,_0xdcbe6b)=>{this['v'][_0x58ea('0x2')](_0x42e740),this['B'](),_0xdcbe6b();});}['L'](_0x31f3a3){this[_0x58ea('0x28')](_0x31f3a3);}}