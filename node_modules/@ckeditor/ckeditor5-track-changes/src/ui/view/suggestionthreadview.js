/*
 *             Copyright (c) 2016 - 2020, CKSource - Frederico Knabben. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import Jt from'./basesuggestionthreadview';import $t from'@ckeditor/ckeditor5-collaboration-core/src/users/view/userview';import Kt from'@ckeditor/ckeditor5-ui/src/button/buttonview';import Lt from'@ckeditor/ckeditor5-core/theme/icons/check.svg';import Qt from'@ckeditor/ckeditor5-core/theme/icons/cancel.svg';import Xt from'@ckeditor/ckeditor5-comments/src/utils/trim-html';export default class xt extends Jt{constructor(_0x1a7be2,_0x1a590e,_0x333787,_0x295c5b){super(_0x1a7be2,_0x1a590e,_0x333787,_0x295c5b);const {t:t}=_0x1a7be2;this['set']('type',''),this['bind']('type')['to'](this,'descriptionParts',_0x1ec67b=>_0x1ec67b&&_0x1ec67b[0x0]?_0x1ec67b[0x0]['type']:''),this['bind']('description')['to'](this,'descriptionParts',this,'isActive',(_0x42b0cc,_0x3c7ad7)=>{let _0x1cc1ba='';for(const _0x13528d of _0x42b0cc)_0x1cc1ba+='<p>'+Yt(_0x13528d['content'])+'</p>';return _0x3c7ad7?_0x1cc1ba:Xt(_0x1cc1ba,{'limit':0x8c});}),this['ut']=null,this['acceptButton']=this['gt'](t('Accept\x20suggestion'),Lt,'ck-suggestion--accept','acceptSuggestion'),this['discardButton']=this['gt'](t('Discard\x20suggestion'),Qt,'ck-suggestion--discard','discardSuggestion'),this['userView']=new $t(_0x1a7be2,this['_model']['author']),this['userView']['extendTemplate']({'attributes':{'class':['ck-suggestion__user','ck-annotation__user']}}),this['setTemplate'](this['pt']());}['pt'](){const _0x20f9bc=this['bindTemplate'];return{'tag':'div','attributes':{'class':['ck-suggestion-wrapper',_0x20f9bc['if']('isActive','ck-suggestion-wrapper--active'),_0x20f9bc['to']('type',_0x3d7c4c=>'ck-suggestion-'+_0x3d7c4c)],'data-suggestion-id':this['_model']['id'],'data-thread-id':this['_model']['commentThread']['id'],'data-author-id':this['_model']['author']['id'],'tabindex':-0x1},'children':[{'tag':'div','attributes':{'class':['ck-suggestion','ck-annotation']},'children':[this['userView'],{'tag':'div','attributes':{'class':['ck-suggestion__main','ck-annotation__main']},'children':[{'tag':'div','attributes':{'class':['ck-suggestion__info','ck-annotation__info']},'children':[{'tag':'span','children':[{'text':this['userView']['name']}],'attributes':{'class':['ck-suggestion__info-name','ck-annotation__info-name']}},{'tag':'time','attributes':{'datetime':_0x20f9bc['to']('createdAt'),'class':['ck-comment__info-time','ck-annotation__info-time']},'children':[{'text':_0x20f9bc['to']('createdAt',_0x2cefea=>this['_config']['formatDateTime'](_0x2cefea))}]}]},{'tag':'div','attributes':{'class':['ck-suggestion__actions','ck-annotation__actions']},'children':[this['acceptButton'],this['discardButton']]},{'tag':'div','attributes':{'class':['ck-annotation__content-wrapper']}}]}]},this['commentsListView'],this['commentThreadInputView']]};}['render'](){super['render'](),this['ut']=this['element']['querySelector']('.ck-annotation__content-wrapper'),this['ut']['innerHTML']=this['description'],this['on']('change:description',(_0x599a24,_0x5a451d,_0x5073ff)=>{this['ut']['innerHTML']=_0x5073ff;});}['gt'](_0x252803,_0x1eaea1,_0x53001e,_0x294a0f){const _0x321f74=new Kt(this['locale']);return _0x321f74['set']({'label':_0x252803,'icon':_0x1eaea1,'tooltip':!0x0}),_0x321f74['extendTemplate']({'attributes':{'class':_0x53001e}}),_0x321f74['on']('execute',()=>{this['fire'](_0x294a0f,this['_model']['id']);}),_0x321f74['bind']('isEnabled')['to'](this),_0x321f74;}}function Yt(_0x58a4e8){let _0xc2c2d2='';return _0xc2c2d2+=_0x58a4e8['split']('*')['map']((_0x4f33c3,_0x2577a3)=>_0x2577a3%0x2!=0x0?'<span\x20class=\x22ck-suggestion-type\x22>'+Zt(_0x4f33c3)+'</span>':Zt(_0x4f33c3))['join'](''),_0xc2c2d2;}function Zt(_0x4214ca){const _0xd81454=document['createElement']('span');return _0xd81454['innerText']=_0x4214ca,_0xd81454['innerHTML'];}