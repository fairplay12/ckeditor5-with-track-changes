/*
 *             Copyright (c) 2016 - 2020, CKSource - Frederico Knabben. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import _0x2bfa1c from'@ckeditor/ckeditor5-core/src/plugin';export default class _ extends _0x2bfa1c{['afterInit'](){const _0xa0102b=this['editor'];if(!_0xa0102b['plugins']['has']('ListEditing'))return;const _0x1f186c=_0xa0102b['plugins']['get']('TrackChangesEditing'),_0x5ef511=_0xa0102b['plugins']['has']('TodoListEditing');function _0x346bc1(_0x6ce28d){return()=>{const _0x119ee2=_0xa0102b['model']['document']['selection'];if(_0xa0102b['commands']['get'](_0x6ce28d)['value'])return void _0xa0102b['execute']('paragraph',{});const _0x412e94=_0x6ce28d['slice'](0x0,-0x4),_0xc3e878=function(_0x30a81e,_0x3dd4e9,_0x20b314){let _0x2f9ac6=Array['from'](_0x30a81e)['filter'](_0x43de2b=>function(_0x588385,_0x45c9e1){return _0x45c9e1['checkChild'](_0x588385['parent'],'listItem')&&!_0x45c9e1['isObject'](_0x588385);}(_0x43de2b,_0x20b314));_0x2f9ac6=_0x2f9ac6['filter'](_0x468421=>!_0x468421['is']('listItem')||_0x468421['getAttribute']('listType')!=_0x3dd4e9);const _0x1f7a2e=new Set();for(const _0x292680 of _0x2f9ac6)_0x292680['is']('listItem')?_0x1f7a2e['add'](O(_0x292680)):_0x1f7a2e['add'](_0x292680);return Array['from'](_0x1f7a2e);}(_0x119ee2['getSelectedBlocks'](),_0x412e94,_0xa0102b['model']['schema']);_0xa0102b['model']['change'](()=>{for(const _0x56fdd1 of _0xc3e878)_0x1f186c['markBlockFormat'](_0x56fdd1,{'commandName':_0x6ce28d,'commandParams':[],'formatGroupId':'blockName'},U(_0x56fdd1));});};}function _0x7f3345(_0x45d5f7){return()=>{const _0x1bb5aa=function(_0x2b9bfd){const _0x34ba1c=(_0x2b9bfd=Array['from'](_0x2b9bfd))['findIndex'](_0x45bc54=>'listItem'!=_0x45bc54['name']);_0x34ba1c>-0x1&&(_0x2b9bfd=_0x2b9bfd['slice'](0x0,_0x34ba1c));return _0x2b9bfd;}(_0xa0102b['model']['document']['selection']['getSelectedBlocks']()),_0xc58d84=_0xa0102b['model']['createRange'](_0xa0102b['model']['createPositionAt'](_0x1bb5aa[0x0],'before'),_0xa0102b['model']['createPositionAt'](_0x1bb5aa[_0x1bb5aa['length']-0x1],'end'));_0xa0102b['model']['change'](()=>{_0x1f186c['markBlockFormat'](_0xc58d84,{'commandName':_0x45d5f7,'commandParams':[],'formatGroupId':'listIndent'},function(_0x337760){const _0x1a8983=new Set();for(const _0x209f77 of _0x337760){let _0x1bdc6a=_0x209f77['nextSibling'];for(;_0x1bdc6a&&_0x1bdc6a['getAttribute']('listIndent')>_0x209f77['getAttribute']('listIndent');)_0x1a8983['add'](_0x1bdc6a),_0x1bdc6a=_0x1bdc6a['nextSibling'];}return Array['from'](_0x1a8983);}(_0x1bb5aa));});};}_0x1f186c['enableCommand']('numberedList',_0x346bc1('numberedList')),_0x1f186c['enableCommand']('bulletedList',_0x346bc1('bulletedList')),_0x5ef511&&_0x1f186c['enableCommand']('todoList',_0x346bc1('todoList')),_0x1f186c['enableCommand']('indentList',_0x7f3345('indentList')),_0x1f186c['enableCommand']('outdentList',_0x7f3345('outdentList')),_0x5ef511&&_0x1f186c['enableCommand']('todoListCheck',()=>{const _0x5c756b=_0xa0102b['commands']['get']('todoListCheck'),_0x70477b=Array['from'](_0x5c756b['_selectedElements']);_0x70477b['filter'](_0x47565c=>_0x47565c['getAttribute']('todoListChecked')!=_0x5c756b['value']),_0xa0102b['model']['change'](()=>{for(const _0x18382a of _0x70477b)_0x1f186c['markBlockFormat'](_0x18382a,{'commandName':'todoListCheck','commandParams':[{'forceValue':!_0x5c756b['value']}]});});});const {t:t}=_0xa0102b['locale'];_0x1f186c['_descriptionFactory']['registerElementLabel']('listItem',_0x32bea8=>t({'string':'list\x20item','plural':'%0\x20list\x20items','id':'ELEMENT_LIST_ITEM'},_0x32bea8)),_0x1f186c['_descriptionFactory']['registerDescriptionCallback'](_0x21da8c=>{const {data:_0xddc2ed}=_0x21da8c;if(_0xddc2ed){if('numberedList'==_0xddc2ed['commandName']||'bulletedList'==_0xddc2ed['commandName']||'todoList'==_0xddc2ed['commandName']){switch(_0xddc2ed['commandName']['replace']('List','')){case'bulleted':return _0x377647(t({'string':'bulleted\x20list','id':'ELEMENT_BULLETED_LIST'}));case'numbered':return _0x377647(t({'string':'numbered\x20list','id':'ELEMENT_NUMBERED_LIST'}));case'todo':return _0x377647(t({'string':'to-do\x20list','id':'ELEMENT_TODO_LIST'}));}}if('indentList'==_0xddc2ed['commandName'])return{'type':'format','content':t('*Indent:*\x20%0',t({'string':'list\x20item','id':'ELEMENT_LIST_ITEM'}))};if('outdentList'==_0xddc2ed['commandName'])return{'type':'format','content':t('*Outdent:*\x20%0',t({'string':'list\x20item','id':'ELEMENT_LIST_ITEM'}))};if('todoListCheck'==_0xddc2ed['commandName']){return _0xddc2ed['commandParams'][0x0]['forceValue']?{'type':'format','content':t('*Check\x20item*')}:{'type':'format','content':t('*Uncheck\x20item*')};}}function _0x377647(_0xa92820){return{'type':'format','content':t('*Change\x20to:*\x20%0',_0xa92820)};}});}}function O(_0x4a347e){const _0x12342c=_0x4a347e['getAttribute']('listIndent');if(0x0==_0x12342c)return _0x4a347e;let _0x55da57=_0x4a347e;for(;_0x4a347e['previousSibling']&&_0x4a347e['previousSibling']['is']('listItem');){const _0x56349e=_0x4a347e['previousSibling']['getAttribute']('listIndent');if(_0x56349e==_0x12342c)_0x55da57=_0x4a347e['previousSibling'];else if(_0x56349e<_0x12342c)break;_0x4a347e=_0x4a347e['previousSibling'];}return _0x55da57;}function U(_0x11f5ab){const _0x521cfe=[];if(_0x11f5ab['is']('listItem')&&_0x11f5ab['getAttribute']('listIndent')>0x0){let _0x421ec7=_0x11f5ab['nextSibling'];for(;_0x421ec7&&'listItem'==_0x421ec7['name']&&_0x421ec7['getAttribute']('listIndent')==_0x11f5ab['getAttribute']('listIndent');)_0x521cfe['push'](_0x421ec7),_0x421ec7=_0x421ec7['nextSibling'];}return _0x521cfe;}