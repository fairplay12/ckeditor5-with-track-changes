/*
 *             Copyright (c) 2016 - 2020, CKSource - Frederico Knabben. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import _0x1bca5f from'@ckeditor/ckeditor5-core/src/plugin';import te from'@ckeditor/ckeditor5-table/src/tablewalker';import _0x303bec from'@ckeditor/ckeditor5-engine/src/model/liverange';import'../../theme/integrations/table.css';export default class oe extends _0x1bca5f{['afterInit'](){const _0x46c8fb=this['editor'];if(!_0x46c8fb['plugins']['has']('TableEditing'))return;const {t:t}=_0x46c8fb['locale'],_0x4f17f9=_0x46c8fb['plugins']['get']('TrackChangesEditing'),_0x40a46f=_0x46c8fb['plugins']['get']('TableUtils');_0x4f17f9['_descriptionFactory']['registerElementLabel']('table',_0x1e04fc=>t({'string':'table','plural':'%0\x20tables','id':'ELEMENT_TABLE'},_0x1e04fc)),this['u']=new Set(),_0x46c8fb['model']['document']['on']('change:data',()=>{const _0x2ddaec=Array['from'](_0x46c8fb['model']['document']['differ']['getChangedMarkers']());for(const {name:_0x352171,data:_0x5051a5}of _0x2ddaec){const {group:_0x525198,id:_0xbe968e,subType:_0x1bf4c7}=_0x4f17f9['_splitMarkerName'](_0x352171);if('suggestion'!=_0x525198)continue;if(null!=_0x5051a5['oldRange'])continue;const _0x98e280=_0x4f17f9['getSuggestion'](_0xbe968e);'tableRow'!=_0x1bf4c7&&'tableColumn'!=_0x1bf4c7||this['u']['add'](_0x98e280);}},{'priority':'low'}),_0x4f17f9['enableCommand']('insertTable');for(const _0x159e46 of['insertTableRowAbove','insertTableRowBelow'])_0x4f17f9['enableCommand'](_0x159e46,_0x16bc3a=>{_0x46c8fb['model']['change'](_0x1a7a3b=>{_0x16bc3a();const _0x1efb52=_0x46c8fb['model']['document']['selection']['getFirstPosition']()['getAncestors']()['find'](_0x30d677=>_0x30d677['is']('tableRow')),_0x5e4239='insertTableRowAbove'==_0x159e46?_0x1efb52['previousSibling']:_0x1efb52['nextSibling'],_0x381725=Array['from'](_0x5e4239['getChildren']())['map'](_0x472f2b=>_0x1a7a3b['createRangeOn'](_0x472f2b));_0x4f17f9['markMultiRangeInsertion'](_0x381725,'tableRow');});});for(const _0x2c25eb of['insertTableColumnLeft','insertTableColumnRight'])_0x4f17f9['enableCommand'](_0x2c25eb,_0x47a583=>{_0x46c8fb['model']['change'](_0xc3a1e0=>{_0x47a583();const _0x5a2406=_0x46c8fb['model']['document']['selection']['getFirstPosition']()['getAncestors']()['find'](_0x1e9fff=>_0x1e9fff['is']('tableCell')),_0x5ba0ed=_0x5a2406['parent']['parent'],{column:_0x10887e}=_0x40a46f['getCellLocation'](_0x5a2406),_0x3512cd=new te(_0x5ba0ed,{'startRow':0x0,'column':'insertTableColumnLeft'==_0x2c25eb?_0x10887e-0x1:_0x10887e+0x1,'includeSpanned':!0x1}),_0x26a3b4=Array['from'](_0x3512cd)['map'](_0x116875=>_0xc3a1e0['createRangeOn'](_0x116875['cell']));_0x4f17f9['markMultiRangeInsertion'](_0x26a3b4,'tableColumn');});});for(const _0x427b4d of['removeTableRow','removeTableColumn']){const _0x31e5c1=_0x427b4d['substr'](0xb),_0x523393=_0x31e5c1['toLowerCase'](),_0x8e15=_0x523393['substr'](0x0,0x3)+'span',_0x3bf82c='table'+_0x31e5c1,_0x2552f9='min'+_0x31e5c1,_0x40dcb7='max'+_0x31e5c1;_0x4f17f9['enableCommand'](_0x427b4d,()=>{_0x46c8fb['model']['change'](_0x1ae798=>{const _0x179fc0=_0x46c8fb['model']['document']['selection']['getFirstPosition']()['getAncestors']()['find'](_0x2eebb6=>_0x2eebb6['is']('tableCell'));let _0xff6a39;if('removeTableRow'==_0x427b4d){const {row:_0x575ad4}=_0x40a46f['getCellLocation'](_0x179fc0);_0xff6a39={'startRow':_0x575ad4,'endRow':_0x575ad4,'includeSpanned':!0x0};}else{const {column:_0x322cfd}=_0x40a46f['getCellLocation'](_0x179fc0);_0xff6a39={'startRow':0x0,'column':_0x322cfd,'includeSpanned':!0x0};}const _0xcad803=new te(_0x179fc0['parent']['parent'],_0xff6a39),_0x367c24=Array['from'](_0xcad803),_0x26ba12=_0x367c24['filter'](_0x3b9728=>_0x3b9728['cell']['hasAttribute'](_0x8e15)),_0x589107=_0x367c24['filter'](_0x438a01=>!_0x438a01['cell']['hasAttribute'](_0x8e15))['map'](_0x46d903=>_0x1ae798['createRangeOn'](_0x46d903['cell'])),_0xd4df6c=_0x4f17f9['markMultiRangeDeletion'](_0x589107,_0x3bf82c);if(_0xd4df6c&&('tableRow'==_0xd4df6c['subType']||'tableColumn'==_0xd4df6c['subType'])){const _0x5af8cc=this['T'](_0xd4df6c);for(const _0x42f47a of _0x26ba12){const _0x4e9974=_0x1ae798['createRangeOn'](_0x42f47a['cell']),_0x22581c=_0x40a46f['getCellLocation'](_0x42f47a['cell']),_0x5dd08f=_0x42f47a['cell']['getAttribute'](_0x8e15)-0x1,_0x1d0493=_0x5af8cc[_0x2552f9],_0x1e83ae=_0x5af8cc[_0x40dcb7];_0x1d0493<=_0x22581c[_0x523393]&&_0x22581c[_0x523393]+_0x5dd08f<=_0x1e83ae&&_0xd4df6c['addRange'](_0x4e9974);}}});});}_0x4f17f9['enableCommand']('setTableRowHeader',(_0x34c4c4,_0x56823c)=>{const _0xa5310c=_0x46c8fb['model']['document']['selection']['getFirstPosition']()['getAncestors']()['find'](_0x1b4486=>_0x1b4486['is']('tableRow')),_0x56e88b=_0xa5310c['parent'],_0x1fe35d=_0x56e88b['getAttribute']('headingRows')||0x0,_0x4a5ba8=_0xa5310c['index'],_0x281912=_0x56823c&&null!==_0x56823c['forceValue']?_0x56823c['forceValue']:_0x1fe35d<=_0x4a5ba8;let _0x256200;if(_0x281912){const _0x134f46=_0x56e88b['getChild'](_0x1fe35d);if(_0xa5310c['index']<_0x134f46['index'])return;_0x256200=_0x46c8fb['model']['createRange'](_0x46c8fb['model']['createPositionBefore'](_0x134f46['getChild'](0x0)),_0x46c8fb['model']['createPositionAfter'](_0xa5310c['getChild'](_0xa5310c['childCount']-0x1)));}else{const _0x23a1d4=_0x56e88b['getChild'](_0x1fe35d-0x1);if(!_0x23a1d4)return;_0x256200=_0x46c8fb['model']['createRange'](_0x46c8fb['model']['createPositionBefore'](_0xa5310c['getChild'](0x0)),_0x46c8fb['model']['createPositionAfter'](_0x23a1d4['getChild'](_0x23a1d4['childCount']-0x1)));}_0x46c8fb['model']['change'](()=>{_0x4f17f9['markBlockFormat'](_0x256200,{'commandName':'setTableRowHeader','commandParams':[{'forceValue':_0x281912}]},[],'setTableRowHeader');});}),_0x4f17f9['enableCommand']('setTableColumnHeader',(_0x56372b,_0x2847c3)=>{const _0x34c502=_0x46c8fb['model']['document']['selection']['getFirstPosition']()['getAncestors']()['find'](_0x3ffc50=>_0x3ffc50['is']('tableCell')),_0x4c27dd=_0x34c502['parent']['parent'],_0x5c2f90=_0x4c27dd['getAttribute']('headingColumns')||0x0,{column:_0x52385c}=_0x40a46f['getCellLocation'](_0x34c502),_0x2cefb1=_0x2847c3&&null!==_0x2847c3['forceValue']?_0x2847c3['forceValue']:_0x5c2f90<=_0x52385c;let _0x2af96a;const _0xbf7162=_0x4c27dd['getChild'](0x0),_0x16df15=new te(_0x4c27dd,{'startRow':0x0,'column':_0x52385c,'includeSpanned':!0x1}),_0xb84914=Array['from'](_0x16df15)[0x0]['cell'];if(_0x2cefb1){const _0x2e6e8b=_0xbf7162['getChild'](_0x5c2f90);if(_0xb84914['isBefore'](_0x2e6e8b))return;_0x2af96a=_0x46c8fb['model']['createRange'](_0x46c8fb['model']['createPositionBefore'](_0x2e6e8b),_0x46c8fb['model']['createPositionAfter'](_0xb84914));}else{const _0x293e8b=_0xbf7162['getChild'](_0x5c2f90-0x1);if(!_0x293e8b)return;_0x2af96a=_0x46c8fb['model']['createRange'](_0x46c8fb['model']['createPositionBefore'](_0xb84914),_0x46c8fb['model']['createPositionAfter'](_0x293e8b));}_0x46c8fb['model']['change'](()=>{_0x4f17f9['markBlockFormat'](_0x2af96a,{'commandName':'setTableColumnHeader','commandParams':[{'forceValue':_0x2cefb1}]},[],'setTableColumnHeader');});});for(const _0x27ee96 of['mergeTableCellUp','mergeTableCellRight','mergeTableCellDown','mergeTableCellLeft']){const _0x56e83d=_0x46c8fb['commands']['get'](_0x27ee96);_0x4f17f9['enableCommand'](_0x27ee96,()=>{const _0x2b2090=_0x46c8fb['model']['document']['selection']['getFirstPosition']()['getAncestors']()['find'](_0x3fa164=>_0x3fa164['is']('tableCell')),_0x1a8ef6=_0x56e83d['value'];_0x46c8fb['model']['change'](_0x189cf5=>{_0x4f17f9['markBlockFormat'](_0x189cf5['createRangeOn'](_0x2b2090),{'commandName':_0x27ee96,'commandParams':[]},[_0x1a8ef6],_0x27ee96);});});}for(const _0x230af0 of['splitTableCellVertically','splitTableCellHorizontally']){const _0x363cbc=_0x46c8fb['commands']['get'](_0x230af0);_0x4f17f9['enableCommand'](_0x230af0,()=>{const _0x4acac6=_0x46c8fb['model']['document']['selection']['getFirstPosition']()['getAncestors']()['find'](_0x353239=>_0x353239['is']('tableCell')),_0x407b90=_0x4acac6['parent']['parent'],{column:_0x19917b,row:_0xa17d32}=_0x40a46f['getCellLocation'](_0x4acac6);let _0x1e7a7b=[];if('horizontally'==_0x363cbc['direction']){const _0x4ec667=new te(_0x407b90,{'startRow':_0xa17d32,'endRow':_0xa17d32,'includeSpanned':!0x0});_0x1e7a7b=Array['from'](_0x4ec667)['map'](_0x3fe55d=>_0x3fe55d['cell']);}else{const _0x254531=new te(_0x407b90,{'column':_0x19917b,'includeSpanned':!0x0});_0x1e7a7b=Array['from'](_0x254531)['map'](_0x5559a8=>_0x5559a8['cell']);}_0x46c8fb['model']['change'](_0x1c203e=>{_0x4f17f9['markBlockFormat'](_0x1c203e['createRangeOn'](_0x4acac6),{'commandName':_0x230af0,'commandParams':[]},_0x1e7a7b,_0x230af0);});});}_0x46c8fb['editing']['downcastDispatcher']['on']('addMarker:suggestion',(_0x37d368,_0x398ad8,_0x2cfe9d)=>{const {type:_0x1fee54,subType:_0x2be6af,id:_0x29388d}=_0x4f17f9['_splitMarkerName'](_0x398ad8['markerName']),_0x20fba6=_0x4f17f9['getSuggestion'](_0x29388d);if(_0x20fba6['data']&&'setTableColumnHeader'==_0x20fba6['data']['commandName'])return;const _0x53d9ff=_0x398ad8['markerRange']['start']['nodeAfter'];if(!_0x53d9ff||!_0x53d9ff['is']('tableRow')&&!_0x53d9ff['is']('tableCell'))return;if(_0x398ad8['item'])return void _0x37d368['stop']();if(!_0x2cfe9d['consumable']['consume'](_0x398ad8['markerRange'],_0x37d368['name']))return;const _0x7aeb67=Array['from'](_0x398ad8['markerRange']['getItems']())['filter'](_0x3ef64d=>_0x3ef64d['is']('tableCell'));for(const _0x43f2eb of _0x7aeb67){const _0x2baaec=_0x2cfe9d['mapper']['toViewElement'](_0x43f2eb);'formatBlock'==_0x1fee54?_0x2cfe9d['writer']['addClass']('ck-suggestion-marker-'+_0x1fee54+'-cell',_0x2baaec):_0x2cfe9d['writer']['addClass']('ck-suggestion-marker-'+_0x1fee54+'-'+_0x2be6af,_0x2baaec),_0x2cfe9d['mapper']['bindElementToMarker'](_0x2baaec,_0x398ad8['markerName']),_0x4f17f9['activeMarkers']['includes'](_0x398ad8['markerName'])?_0x2cfe9d['writer']['addClass']('ck-suggestion-marker--active',_0x2baaec):_0x2cfe9d['writer']['removeClass']('ck-suggestion-marker--active',_0x2baaec);}},{'priority':'highest'}),_0x46c8fb['editing']['downcastDispatcher']['on']('addMarker:suggestion',(_0x513644,_0x49c118,_0x429b62)=>{const {type:_0x3d0330,id:_0x47633c}=_0x4f17f9['_splitMarkerName'](_0x49c118['markerName']),_0x49138e=_0x4f17f9['getSuggestion'](_0x47633c);if(!_0x49138e['data']||'setTableColumnHeader'!=_0x49138e['data']['commandName'])return;if(_0x49c118['item'])return void _0x513644['stop']();if(!_0x429b62['consumable']['consume'](_0x49c118['markerRange'],_0x513644['name']))return;const _0x33c649=_0x49c118['markerRange']['start']['nodeAfter'],_0x22a472=_0x49c118['markerRange']['end']['nodeBefore'],_0x1a815f=_0x33c649['parent']['parent'],{column:_0x17c5d3}=_0x40a46f['getCellLocation'](_0x33c649),{column:_0x439e0b}=_0x40a46f['getCellLocation'](_0x22a472);for(let _0x172bc0=_0x17c5d3;_0x172bc0<=_0x439e0b;_0x172bc0++){const _0x499d66=new te(_0x1a815f,{'column':_0x172bc0,'includeSpanned':!0x1});for(const _0x2401c5 of _0x499d66){const _0x232cf6=_0x2401c5['cell'],_0x1d6ee7=_0x429b62['mapper']['toViewElement'](_0x232cf6);_0x429b62['writer']['addClass']('ck-suggestion-marker-'+_0x3d0330+'-cell',_0x1d6ee7),_0x429b62['mapper']['bindElementToMarker'](_0x1d6ee7,_0x49c118['markerName']),_0x4f17f9['activeMarkers']['includes'](_0x49c118['markerName'])?_0x429b62['writer']['addClass']('ck-suggestion-marker--active',_0x1d6ee7):_0x429b62['writer']['removeClass']('ck-suggestion-marker--active',_0x1d6ee7);}}},{'priority':'highest'}),_0x46c8fb['editing']['downcastDispatcher']['on']('removeMarker:suggestion',(_0x5d3b84,_0x4cd66d,_0x28c8cb)=>{const {type:_0x286249,subType:_0x2a9bdf}=_0x4f17f9['_splitMarkerName'](_0x4cd66d['markerName']),_0x282da0=_0x28c8cb['mapper']['markerNameToElements'](_0x4cd66d['markerName']);if(_0x282da0)for(const _0x1fbaf1 of _0x282da0)(_0x1fbaf1['is']('td')||_0x1fbaf1['is']('th'))&&('formatBlock'==_0x286249?_0x28c8cb['writer']['removeClass']('ck-suggestion-marker-'+_0x286249+'-cell',_0x1fbaf1):_0x28c8cb['writer']['removeClass']('ck-suggestion-marker-'+_0x286249+'-'+_0x2a9bdf,_0x1fbaf1),_0x28c8cb['writer']['removeClass']('ck-suggestion-marker--active',_0x1fbaf1),_0x28c8cb['mapper']['unbindElementFromMarkerName'](_0x1fbaf1,_0x4cd66d['markerName']));},{'priority':'highest'}),_0x4f17f9['_descriptionFactory']['registerDescriptionCallback'](_0x14091=>{if('insertion'!=_0x14091['type']&&'deletion'!=_0x14091['type'])return;const _0xd6d7d2=_0x14091['getContainedElement']();if(null!=_0xd6d7d2&&_0xd6d7d2['is']('table')){if('insertion'==_0x14091['type']){const _0x247046=_0x14091['getItems']()['filter'](_0x2b99d4=>_0x2b99d4['is']('textProxy'))['map'](_0xd28083=>_0xd28083['data']);if(_0x247046['length'])return{'type':'insertion','content':t('*Insert:*\x20%0',t({'string':'table\x20*with\x20text*\x20%0','id':'ELEMENT_TABLE_WITH_TEXT'},'\x22'+_0x247046['join']('\x20')+'\x22'))};}if('deletion'==_0x14091['type']){const _0x5b708c=_0x14091['getItems']()['filter'](_0x577f20=>_0x577f20['is']('textProxy'))['map'](_0x2996ad=>_0x2996ad['data']);if(_0x5b708c['length'])return{'type':'deletion','content':t('*Remove:*\x20%0',t({'string':'table\x20*with\x20text*\x20%0','id':'ELEMENT_TABLE_WITH_TEXT'},'\x22'+_0x5b708c['join']('\x20')+'\x22'))};}}}),_0x4f17f9['_descriptionFactory']['registerDescriptionCallback'](_0x1c520b=>{if('tableRow'==_0x1c520b['subType']){const _0x522e1d=_0x1c520b['getItems']()['filter'](_0x1ba08e=>_0x1ba08e['is']('textProxy'))['map'](_0x3a3bfb=>_0x3a3bfb['data']),_0x585517=this['T'](_0x1c520b),_0x1f2286=_0x585517['maxRow']-_0x585517['minRow']+0x1;if('insertion'==_0x1c520b['type'])return _0x522e1d['length']?{'type':'insertion','content':t('*Insert:*\x20%0',t({'string':'table\x20row\x20*with\x20text*\x20%1','plural':'%0\x20table\x20rows\x20*with\x20text*\x20%1','id':'ELEMENT_TABLE_ROW_WITH_TEXT'},[_0x1f2286,'\x22'+_0x522e1d['join']('\x20')+'\x22']))}:{'type':'insertion','content':t('*Insert:*\x20%0',t({'string':'table\x20row','plural':'%0\x20table\x20rows','id':'ELEMENT_TABLE_ROW'},_0x1f2286))};if('deletion'==_0x1c520b['type'])return _0x522e1d['length']?{'type':'deletion','content':t('*Remove:*\x20%0',t({'string':'table\x20row\x20*with\x20text*\x20%1','plural':'%0\x20table\x20rows\x20*with\x20text*\x20%1','id':'ELEMENT_TABLE_ROW_WITH_TEXT'},[_0x1f2286,'\x22'+_0x522e1d['join']('\x20')+'\x22']))}:{'type':'deletion','content':t('*Remove:*\x20%0',t({'string':'table\x20row','plural':'%0\x20table\x20rows','id':'ELEMENT_TABLE_ROW'},_0x1f2286))};}if('tableColumn'==_0x1c520b['subType']){const _0x49f26f=_0x1c520b['getItems']()['filter'](_0x2a7714=>_0x2a7714['is']('textProxy'))['map'](_0x277b25=>_0x277b25['data']),_0x179d57=this['T'](_0x1c520b),_0x21813d=_0x179d57['maxColumn']-_0x179d57['minColumn']+0x1;if('insertion'==_0x1c520b['type'])return _0x49f26f['length']?{'type':'insertion','content':t('*Insert:*\x20%0',t({'string':'table\x20column\x20*with\x20text*\x20%1','plural':'%0\x20table\x20columns\x20*with\x20text*\x20%1','id':'ELEMENT_TABLE_COLUMN_WITH_TEXT'},[_0x21813d,'\x22'+_0x49f26f['join']('\x20')+'\x22']))}:{'type':'insertion','content':t('*Insert:*\x20%0',t({'string':'table\x20column','plural':'%0\x20table\x20columns','id':'ELEMENT_TABLE_COLUMN'},_0x21813d))};if('deletion'==_0x1c520b['type'])return _0x49f26f['length']?{'type':'deletion','content':t('*Remove:*\x20%0',t({'string':'table\x20column\x20*with\x20text*\x20%1','plural':'%0\x20table\x20columns\x20*with\x20text*\x20%1','id':'ELEMENT_TABLE_COLUMN_WITH_TEXT'},[_0x21813d,'\x22'+_0x49f26f['join']('\x20')+'\x22']))}:{'type':'deletion','content':t('*Remove:*\x20%0',t({'string':'table\x20column','plural':'%0\x20table\x20columns','id':'ELEMENT_TABLE_COLUMN'},_0x21813d))};}}),_0x4f17f9['_descriptionFactory']['registerDescriptionCallback'](_0x2e01c0=>{const {data:_0x2ea801}=_0x2e01c0;if(_0x2ea801){if('setTableRowHeader'==_0x2ea801['commandName']){const _0x53669e=_0x2ea801['commandParams'][0x0]['forceValue'];return _0x52edfe(t(_0x53669e?{'string':'header\x20row','id':'FORMAT_HEADER_ROW'}:{'string':'regular\x20row','id':'FORMAT_REGULAR_ROW'}));}if('setTableColumnHeader'==_0x2ea801['commandName']){const _0x172ea6=_0x2ea801['commandParams'][0x0]['forceValue'];return _0x52edfe(t(_0x172ea6?{'string':'header\x20column','id':'FORMAT_HEADER_COLUMN'}:{'string':'regular\x20column','id':'FORMAT_REGULAR_COLUMN'}));}}function _0x52edfe(_0x15b8a4){return{'type':'format','content':t('*Format:*\x20%0',_0x15b8a4)};}}),_0x4f17f9['_descriptionFactory']['registerDescriptionCallback'](_0x57f16b=>{const {data:_0x4e1264}=_0x57f16b;if(_0x4e1264)return'mergeTableCellUp'==_0x4e1264['commandName']?{'type':'format','content':t('*Merge\x20cell:*\x20up')}:'mergeTableCellRight'==_0x4e1264['commandName']?{'type':'format','content':t('*Merge\x20cell:*\x20right')}:'mergeTableCellDown'==_0x4e1264['commandName']?{'type':'format','content':t('*Merge\x20cell:*\x20down')}:'mergeTableCellLeft'==_0x4e1264['commandName']?{'type':'format','content':t('*Merge\x20cell:*\x20left')}:void 0x0;});for(const _0x174a93 of['mergeTableCellUp','mergeTableCellRight','mergeTableCellDown','mergeTableCellLeft'])_0x4f17f9['_suggestionFactory']['registerCustomCallback']('formatBlock',_0x174a93,'accept',_0x1b368a);_0x4f17f9['_descriptionFactory']['registerDescriptionCallback'](_0x29a501=>{const {data:_0x44b2c7}=_0x29a501;if(_0x44b2c7)return'splitTableCellVertically'==_0x44b2c7['commandName']?{'type':'format','content':t('*Split\x20cell:*\x20vertically')}:'splitTableCellHorizontally'==_0x44b2c7['commandName']?{'type':'format','content':t('*Split\x20cell:*\x20horizontally')}:void 0x0;});for(const _0xc7f87f of['splitTableCellVertically','splitTableCellHorizontally'])_0x4f17f9['_suggestionFactory']['registerCustomCallback']('formatBlock',_0xc7f87f,'accept',_0x1b368a);const _0x2f3e36=(_0x185984,_0x5e29a4)=>{const _0x5c6830=_0x5e29a4['createRangeOn'](_0x185984),_0x1f91f8=_0x185984['parent']['parent'],_0xafc12e=_0x40a46f['getCellLocation'](_0x185984);for(const _0x568274 of this['u']){const _0x54f920=_0x568274['subType']['substr'](0x5),_0x3d535e=_0x54f920['toLowerCase'](),_0xdc849d=_0x3d535e['substr'](0x0,0x3)+'span',_0x261033='min'+_0x54f920,_0x179af5='max'+_0x54f920;if(!_0x568274['isInContent'])continue;if(_0x1f91f8!=_0x568274['getFirstRange']()['start']['parent']['parent'])continue;if(_0x568274['isIntersectingWithRange'](_0x5c6830))continue;const _0x45455b=_0x185984['hasAttribute'](_0xdc849d)?_0x185984['getAttribute'](_0xdc849d)-0x1:0x0,_0x5ac874=this['T'](_0x568274),_0x24d9f7=_0x5ac874[_0x261033],_0x28658d=_0x5ac874[_0x179af5];_0x24d9f7<=_0xafc12e[_0x3d535e]&&_0xafc12e[_0x3d535e]+_0x45455b<=_0x28658d&&_0x568274['addRange'](_0x5c6830);}};_0x46c8fb['model']['document']['registerPostFixer'](_0x4e6a7d=>{for(const _0x4e99a8 of _0x46c8fb['model']['document']['differ']['getChanges']())if('insert'==_0x4e99a8['type'])if('tableRow'==_0x4e99a8['name'])for(const _0x16f183 of _0x4e99a8['position']['nodeAfter']['getChildren']())_0x2f3e36(_0x16f183,_0x4e6a7d);else'tableCell'==_0x4e99a8['name']&&_0x2f3e36(_0x4e99a8['position']['nodeAfter'],_0x4e6a7d);});for(const _0x2bee99 of['mergeTableCellUp','mergeTableCellDown','mergeTableCellLeft','mergeTableCellRight']){const _0x289597=_0x46c8fb['commands']['get'](_0x2bee99);_0x289597['on']('set:isEnabled',(_0x11a0bf,_0x234b8c,_0xee9772)=>{if(_0xee9772){const _0x1335f0=_0x46c8fb['model']['document']['selection']['getFirstPosition']()['getAncestors']()['find'](_0x34c194=>_0x34c194['is']('tableCell'));this['g'](_0x289597['value'],_0x1335f0)||(_0x11a0bf['return']=!0x1,_0x11a0bf['stop']());}},{'priority':'low'});}function _0x1b368a(_0x5c3bed,_0x5f4dd2){_0x46c8fb['model']['change'](_0x332462=>{const {commandName:_0x45bd51,commandParams:_0x3587dd}=_0x5f4dd2;let _0x4385f5=_0x5c3bed[0x0]['end']['nodeBefore'];_0x3587dd&&_0x3587dd[0x0]&&!0x1===_0x3587dd[0x0]['forceValue']&&(_0x4385f5=_0x5c3bed[0x0]['start']['nodeAfter']);const _0x533ddb=_0x332462['createRangeIn'](_0x4385f5);if('$graveyard'==_0x533ddb['root']['rootName'])return;const _0x359676=_0x303bec['fromRange'](_0x46c8fb['model']['document']['selection']['getFirstRange']());_0x332462['setSelection'](_0x533ddb),_0x46c8fb['commands']['get'](_0x45bd51)['refresh'](),_0x3587dd['push']({'forceDefaultExecution':!0x0}),_0x46c8fb['execute'](_0x45bd51,..._0x3587dd),'$graveyard'!=_0x359676['root']['rootName']&&_0x332462['setSelection'](_0x359676),_0x359676['detach']();});}function _0x3fd449(_0x4119ac){const _0x8b5ca6=_0x303bec['fromRange'](_0x46c8fb['model']['document']['selection']['getFirstRange']()),_0x5ed62d=_0x46c8fb['model']['createBatch']();_0x46c8fb['model']['enqueueChange'](_0x5ed62d,_0x105975=>{_0x105975['setSelection'](_0x4119ac),_0x46c8fb['commands']['get']('removeTableRow')['refresh'](),_0x46c8fb['execute']('removeTableRow',{'forceDefaultExecution':!0x0}),_0x46c8fb['model']['enqueueChange'](()=>{_0x46c8fb['model']['enqueueChange'](_0x5ed62d,_0x1ff21e=>{if('$graveyard'!=_0x8b5ca6['root']['rootName'])_0x1ff21e['setSelection'](_0x8b5ca6);else{const _0x377263=_0x46c8fb['model']['document']['selection']['getFirstPosition']();_0x377263['nodeAfter']&&_0x377263['nodeAfter']['is']('tableCell')&&_0x1ff21e['setSelection'](_0x377263['nodeAfter'],0x0);}_0x8b5ca6['detach']();});});});}function _0x40aa6e(_0x1c8d0b){_0x46c8fb['model']['change'](_0x28b923=>{const _0x30f581=_0x303bec['fromRange'](_0x46c8fb['model']['document']['selection']['getFirstRange']()),_0x16c180=[];for(const _0x44f65c of _0x1c8d0b)for(const _0xee93af of _0x44f65c['getItems']({'shallow':!0x0}))_0x16c180['push'](_0xee93af);for(const _0x3ec23a of _0x16c180)'$graveyard'!=_0x3ec23a['root']['rootName']&&(_0x28b923['setSelection'](_0x28b923['createPositionAt'](_0x3ec23a,0x0)),_0x46c8fb['commands']['get']('removeTableColumn')['refresh'](),_0x46c8fb['execute']('removeTableColumn',{'forceDefaultExecution':!0x0}));'$graveyard'!=_0x30f581['root']['rootName']&&_0x28b923['setSelection'](_0x30f581),_0x30f581['detach']();});}function _0x4b3d8d(_0x561357,_0x3a4dc3){return _0x3a4dc3['every'](_0x441fe9=>_0x561357['some'](_0x201667=>_0x201667['end']['isEqual'](_0x441fe9['start'])||_0x441fe9['end']['isEqual'](_0x201667['start'])));}function _0x7d68c4(_0x1b8413,_0x4f8e97){return _0x1b8413['some'](_0xc65248=>_0x4f8e97['some'](_0x588ced=>_0xc65248['end']['isTouching'](_0x588ced['start'])));}_0x4f17f9['_suggestionFactory']['registerCustomCallback']('formatBlock','setTableRowHeader','accept',_0x1b368a),_0x4f17f9['_suggestionFactory']['registerCustomCallback']('formatBlock','setTableColumnHeader','accept',_0x1b368a),_0x4f17f9['_suggestionFactory']['registerCustomCallback']('insertion','tableRow','discard',_0x3fd449),_0x4f17f9['_suggestionFactory']['registerCustomCallback']('deletion','tableRow','accept',_0x3fd449),_0x4f17f9['_suggestionFactory']['registerCustomCallback']('insertion','tableColumn','discard',_0x40aa6e),_0x4f17f9['_suggestionFactory']['registerCustomCallback']('deletion','tableColumn','accept',_0x40aa6e),_0x4f17f9['_suggestionFactory']['registerCustomCallback']('insertion','tableColumn','join',_0x4b3d8d),_0x4f17f9['_suggestionFactory']['registerCustomCallback']('deletion','tableColumn','join',_0x4b3d8d),_0x4f17f9['_suggestionFactory']['registerCustomCallback']('insertion','tableRow','join',_0x7d68c4),_0x4f17f9['_suggestionFactory']['registerCustomCallback']('deletion','tableRow','join',_0x7d68c4);const _0x35ecfa=_0x46c8fb['plugins']['get']('TableSelection');_0x46c8fb['commands']['get']('trackChanges')['on']('change:value',(_0x2707ad,_0xf60cde,_0x452b40)=>{_0x452b40?(_0x35ecfa['forceDisabled']('trackChanges'),_0x46c8fb['model']['change'](_0x39ab19=>{let _0x4f2c68=_0x46c8fb['model']['document']['selection']['getFirstPosition']();if(_0x4f2c68['nodeAfter']&&_0x4f2c68['nodeAfter']['is']('tableCell')){_0x4f2c68=_0x39ab19['createPositionAt'](_0x4f2c68['nodeAfter'],0x0);const _0xfcb843=_0x46c8fb['model']['schema']['getNearestSelectionRange'](_0x4f2c68);_0x39ab19['setSelection'](_0xfcb843);}})):_0x35ecfa['clearForceDisabled']('trackChanges');});}['T'](_0x1937f5){const _0x331523=this['editor']['plugins']['get']('TableUtils');let _0x4bcd88=Number['MAX_SAFE_INTEGER'],_0x52b715=Number['MIN_SAFE_INTEGER'],_0x1656d8=Number['MAX_SAFE_INTEGER'],_0x5b2ede=Number['MIN_SAFE_INTEGER'];for(const _0x52dead of _0x1937f5['getRanges']()){const _0x51c599=_0x52dead['start']['nodeAfter'],{row:_0x916daf,column:_0x1063fb}=_0x331523['getCellLocation'](_0x51c599),_0x5bbfb1=_0x51c599['hasAttribute']('rowspan')?_0x51c599['getAttribute']('rowspan')-0x1:0x0,_0x3db2c6=_0x51c599['hasAttribute']('colspan')?_0x51c599['getAttribute']('colspan')-0x1:0x0;_0x4bcd88=_0x916daf<_0x4bcd88?_0x916daf:_0x4bcd88,_0x52b715=_0x916daf+_0x5bbfb1>_0x52b715?_0x916daf+_0x5bbfb1:_0x52b715,_0x1656d8=_0x1063fb<_0x1656d8?_0x1063fb:_0x1656d8,_0x5b2ede=_0x1063fb+_0x3db2c6>_0x5b2ede?_0x1063fb+_0x3db2c6:_0x5b2ede;}return{'minRow':_0x4bcd88,'maxRow':_0x52b715,'minColumn':_0x1656d8,'maxColumn':_0x5b2ede};}['g'](_0x32d378,_0x1303bb){const _0x36403c=this['editor']['plugins']['get']('TrackChangesEditing'),_0x21ae18=this['editor']['model']['createRangeOn'](_0x32d378),_0x5c5e8b=this['editor']['model']['createRangeOn'](_0x1303bb),_0x4b4b5c=new Set(),_0x5419e7=new Set();for(const _0x5d9dc3 of _0x36403c['getSuggestions']())if(('insertion'==_0x5d9dc3['type']||'deletion'==_0x5d9dc3['type'])&&_0x5d9dc3['isInContent'])for(const _0x168dfe of _0x5d9dc3['getRanges']())_0x168dfe['containsRange'](_0x21ae18,!0x0)&&_0x4b4b5c['add'](_0x5d9dc3['type']+':'+_0x5d9dc3['author']['id']),_0x168dfe['containsRange'](_0x5c5e8b,!0x0)&&_0x5419e7['add'](_0x5d9dc3['type']+':'+_0x5d9dc3['author']['id']);if(_0x4b4b5c['size']!=_0x5419e7['size'])return!0x1;for(const _0xce7201 of _0x4b4b5c)if(!_0x5419e7['has'](_0xce7201))return!0x1;return!0x0;}}