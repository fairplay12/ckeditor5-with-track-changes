/*
 *             Copyright (c) 2016 - 2020, CKSource - Frederico Knabben. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import _0x4a2ddb from'@ckeditor/ckeditor5-core/src/plugin';import{getRangesWithAttribute as _0x5a0d1b}from'./utils';const m=['BoldEditing','ItalicEditing','UnderlineEditing','CodeEditing','StrikethroughEditing','SubscriptEditing','SuperscriptEditing'];export default class p extends _0x4a2ddb{['afterInit'](){const _0x3bf061=this['editor'],_0x21f4d1=_0x3bf061['plugins']['get']('TrackChangesEditing'),{t:t}=_0x3bf061['locale'];for(const _0x3e1b08 of m){if(!_0x3bf061['plugins']['has'](_0x3e1b08))continue;const _0x4f02b0=_0x3e1b08['slice'](0x0,-0x7)['toLowerCase'](),_0x5bfa1a=_0x3bf061['commands']['get'](_0x4f02b0);_0x21f4d1['enableCommand'](_0x4f02b0,(_0x5084a5,_0x3844c0={})=>{const _0x338f9c=void 0x0!==_0x3844c0['forceValue']?_0x3844c0['forceValue']:!_0x5bfa1a['value'],_0x43ed82=_0x3bf061['model']['document']['selection']['getFirstRange']();_0x43ed82['isCollapsed']?_0x5084a5(_0x3844c0):_0x3bf061['model']['change'](()=>{const _0xf7275d=_0x338f9c?[_0x43ed82]:_0x5a0d1b(_0x4f02b0,_0x43ed82,_0x3bf061['model']);for(const _0x26fcfc of _0xf7275d)_0x21f4d1['markInlineFormat'](_0x26fcfc,{'commandName':_0x4f02b0,'commandParams':[{'forceValue':_0x338f9c}]});});});}function _0x5bca95(_0x3f721b,_0x18750d){_0x21f4d1['_descriptionFactory']['registerDescriptionCallback'](_0xd1bf2d=>{const {data:_0x1c805f}=_0xd1bf2d;if(_0x1c805f&&_0x1c805f['commandName']===_0x3f721b)return _0x1c805f['commandParams'][0x0]['forceValue']?{'type':'format','content':t('*Format:*\x20%0',_0x18750d)}:{'type':'format','content':t('*Remove\x20format:*\x20%0',_0x18750d)};});}_0x5bca95('bold',t({'string':'bold','id':'FORMAT_BOLD'})),_0x5bca95('italic',t({'string':'italic','id':'FORMAT_ITALIC'})),_0x5bca95('underline',t({'string':'underline','id':'FORMAT_UNDERLINE'})),_0x5bca95('code',t({'string':'code','id':'FORMAT_CODE'})),_0x5bca95('strikethrough',t({'string':'strikethrough','id':'FORMAT_STRIKETHROUGH'})),_0x5bca95('subscript',t({'string':'subscript','id':'FORMAT_SUBSCRIPT'})),_0x5bca95('superscript',t({'string':'superscript','id':'FORMAT_SUPERSCRIPT'}));}}