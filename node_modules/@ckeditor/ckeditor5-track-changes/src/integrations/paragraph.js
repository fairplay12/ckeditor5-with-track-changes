/*
 *             Copyright (c) 2016 - 2020, CKSource - Frederico Knabben. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import _0x1ba899 from'@ckeditor/ckeditor5-core/src/plugin';import{getElementsAffectedByListItemRename as _0x1e95ef}from'./utils';export default class W extends _0x1ba899{['afterInit'](){const _0x43dcf3=this['editor'];if(!_0x43dcf3['plugins']['has']('Paragraph'))return;const {t:t}=_0x43dcf3['locale'],_0x425028=_0x43dcf3['plugins']['get']('TrackChangesEditing');_0x425028['_descriptionFactory']['registerElementLabel']('paragraph',_0x4ff7d8=>t({'string':'paragraph','plural':'%0\x20paragraphs','id':'ELEMENT_PARAGRAPH'},_0x4ff7d8)),_0x425028['enableCommand']('paragraph',(_0x53d7e9,_0x2460df={})=>{const _0x910aba=_0x43dcf3['model']['document'],_0x161665=_0x2460df['selection']||_0x910aba['selection'],_0xef1d67=Array['from'](_0x161665['getSelectedBlocks']())['filter'](_0xd54ddc=>function(_0x3f27ba,_0x27d7dd){return _0x27d7dd['checkChild'](_0x3f27ba['parent'],'paragraph')&&!_0x27d7dd['isObject'](_0x3f27ba)&&'paragraph'!=_0x3f27ba['name'];}(_0xd54ddc,this['editor']['model']['schema']));_0x43dcf3['model']['change'](()=>{for(const _0x26459e of _0xef1d67)_0x425028['markBlockFormat'](_0x26459e,{'commandName':'paragraph','commandParams':[],'formatGroupId':'blockName'},_0x1e95ef(_0x26459e));});}),_0x425028['_descriptionFactory']['registerDescriptionCallback'](_0x4dfc1f=>{const {data:_0x27d378}=_0x4dfc1f;if(_0x27d378&&'paragraph'==_0x27d378['commandName'])return{'type':'format','content':t('*Change\x20to:*\x20%0',t({'string':'paragraph','plural':'%0\x20paragraphs','id':'ELEMENT_PARAGRAPH'}))};}),_0x425028['enableCommand']('insertParagraph'),_0x43dcf3['editing']['downcastDispatcher']['on']('addMarker:suggestion:insertion',(_0xefb2a7,_0x8f1d5a,_0xd1d634)=>{const _0x27933c=_0x8f1d5a['markerRange']['start'],_0x40b049=_0x8f1d5a['markerRange']['end'];if(_0x27933c['isTouching'](_0x40b049)&&_0x27933c['nodeAfter']&&_0x27933c['nodeAfter']['is']('paragraph')){if(!_0xd1d634['consumable']['consume'](_0x8f1d5a['markerRange'],_0xefb2a7['name']))return;const _0x29bff2=_0xd1d634['writer']['createUIElement']('span',{'class':'ck-suggestion-marker-split'}),_0x54c89f=_0xd1d634['mapper']['toViewPosition'](_0x40b049);_0x425028['activeMarkers']['includes'](_0x8f1d5a['markerName'])&&_0xd1d634['writer']['addClass']('ck-suggestion-marker--active',_0x29bff2),_0xd1d634['writer']['insert'](_0x54c89f,_0x29bff2),_0xd1d634['mapper']['bindElementToMarker'](_0x29bff2,_0x8f1d5a['markerName']);}},{'priority':'highest'});const _0x3037bb=_0x425028['_descriptionFactory'];_0x3037bb['registerDescriptionCallback'](_0x1576f7=>{const {start:_0x2baf61,end:_0x25a51d}=_0x1576f7['getFirstRange']();if(_0x2baf61['isTouching'](_0x25a51d)&&_0x2baf61['nodeAfter']&&_0x2baf61['nodeAfter']['is']('paragraph')&&'insertion'==_0x1576f7['type'])return{'type':'insertion','content':t('*Insert:*\x20%0',_0x3037bb['getItemLabel']('paragraph',0x1))};});}}