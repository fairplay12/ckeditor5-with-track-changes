/*
 *             Copyright (c) 2016 - 2020, CKSource - Frederico Knabben. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import _0x1a4ec1 from'@ckeditor/ckeditor5-core/src/plugin';export default class k extends _0x1a4ec1{['afterInit'](){const _0x2b7593=this['editor'],{t:t}=_0x2b7593['locale'];if(!_0x2b7593['plugins']['has']('BlockQuoteEditing'))return;const _0xbe964a=_0x2b7593['plugins']['get']('TrackChangesEditing'),_0x5890b7=this['editor']['commands']['get']('blockQuote');_0xbe964a['enableCommand']('blockQuote',(_0x280735,_0xb2fc25={})=>{const _0x3a1dfc=this['editor']['model']['document']['selection'],_0x4ab57a=_0xb2fc25&&void 0x0!==_0xb2fc25['forceValue']?_0xb2fc25['forceValue']:!_0x5890b7['value'];let _0x28ee66=[];if(_0x4ab57a){const _0x4e9279=Array['from'](_0x3a1dfc['getSelectedBlocks']())['filter'](_0x24b551=>b(_0x24b551)||function(_0x2115fe,_0x146d35){const _0x7c2d84=_0x146d35['checkChild'](_0x2115fe['parent'],'blockQuote'),_0x38359f=_0x146d35['checkChild'](['$root','blockQuote'],_0x2115fe);return _0x7c2d84&&_0x38359f;}(_0x24b551,this['editor']['model']['schema']));_0x28ee66=[Q(_0x4e9279,_0x2b7593['model'])];}else{const _0x4f3671=Array['from'](_0x3a1dfc['getSelectedBlocks']())['filter'](_0x3dc0cc=>b(_0x3dc0cc));_0x28ee66=function(_0x2364fa,_0x10f26e){let _0x1b1bd1,_0xeda34e=0x0;const _0x34653a=[],_0x232fab=_0x10f26e['schema'];for(;_0xeda34e<_0x2364fa['length'];){const _0x15a879=_0x2364fa[_0xeda34e],_0x56b8d8=_0x2364fa[_0xeda34e+0x1];_0x1b1bd1||(_0x1b1bd1=_0x10f26e['createPositionBefore'](_0x15a879)),_0x56b8d8&&_0x15a879['nextSibling']==_0x56b8d8||(_0x34653a['push'](_0x10f26e['createRange'](_0x1b1bd1,_0x232fab['isObject'](_0x15a879)?_0x10f26e['createPositionAfter'](_0x15a879):_0x10f26e['createPositionAt'](_0x15a879,'end'))),_0x1b1bd1=null),_0xeda34e++;}return _0x34653a;}(_0x4f3671,_0x2b7593['model']);}_0x2b7593['model']['change'](()=>{for(const _0x376641 of _0x28ee66)_0xbe964a['markBlockFormat'](_0x376641,{'commandName':'blockQuote','commandParams':[{'forceValue':_0x4ab57a}]});});}),_0xbe964a['_descriptionFactory']['registerDescriptionCallback'](_0x49d2d5=>{const {data:_0x58ee69}=_0x49d2d5;if(_0x58ee69&&'blockQuote'==_0x58ee69['commandName']){const _0x4b51d5=t({'string':'block\x20quote','id':'ELEMENT_BLOCK_QUOTE'});return _0x58ee69['commandParams'][0x0]['forceValue']?{'type':'format','content':t('*Format:*\x20%0',_0x4b51d5)}:{'type':'format','content':t('*Remove\x20format:*\x20%0',_0x4b51d5)};}});}}function b(_0x17e2d8){return'blockQuote'==_0x17e2d8['parent']['name'];}function Q(_0x57c4e5,_0x540098){const _0x54109b=_0x540098['schema'],_0x25db7d=_0x57c4e5[_0x57c4e5['length']-0x1],_0x127949=_0x540098['createPositionAt'](_0x57c4e5[0x0],'before'),_0x25c5ef=_0x54109b['isObject'](_0x25db7d)?_0x540098['createPositionAfter'](_0x25db7d):_0x540098['createPositionAt'](_0x25db7d,'end');return _0x540098['createRange'](_0x127949,_0x25c5ef);}