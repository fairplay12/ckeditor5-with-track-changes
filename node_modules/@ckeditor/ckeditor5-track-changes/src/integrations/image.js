/*
 *             Copyright (c) 2016 - 2020, CKSource - Frederico Knabben. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import _0x152eaa from'@ckeditor/ckeditor5-core/src/plugin';import{normalizeImageStyles as _0x7d1fde}from'@ckeditor/ckeditor5-image/src/imagestyle/utils';import'../../theme/integrations/image.css';export default class T extends _0x152eaa{['afterInit'](){const _0x310210=this['editor'];if(!_0x310210['plugins']['has']('ImageEditing'))return;const _0x8a2d41=_0x310210['plugins']['get']('TrackChangesEditing'),{t:t}=_0x310210['locale'];_0x8a2d41['enableCommand']('imageInsert'),_0x8a2d41['_descriptionFactory']['registerElementLabel']('image',_0x12cfb8=>t({'string':'image','plural':'%0\x20images','id':'ELEMENT_IMAGE'},_0x12cfb8)),_0x310210['plugins']['has']('ImageUploadEditing')&&_0x8a2d41['enableCommand']('imageUpload'),_0x310210['plugins']['has']('ImageStyleEditing')&&_0x8a2d41['enableCommand']('imageStyle',(_0x3bc1ac,_0x49cddb)=>{const _0x1bee7f=_0x310210['commands']['get']('imageStyle'),_0x1f5e64=_0x310210['model']['document']['selection']['getFirstRange']()['start']['nodeAfter'];(_0x1f5e64['hasAttribute']('imageStyle')?_0x1f5e64['getAttribute']('imageStyle'):_0x1bee7f['defaultStyle'])!=_0x49cddb['value']&&_0x310210['model']['change'](()=>{_0x8a2d41['markBlockFormat'](_0x1f5e64,{'commandName':'imageStyle','commandParams':[_0x49cddb]});});}),_0x310210['plugins']['has']('ImageResize')&&_0x8a2d41['enableCommand']('imageResize',(_0x4b8b3f,_0x5e8885)=>{const _0x192f97=_0x310210['model']['document']['selection']['getFirstRange']()['start']['nodeAfter'];_0x192f97['getAttribute']('width')!=_0x5e8885['width']&&_0x310210['model']['change'](()=>{_0x8a2d41['markBlockFormat'](_0x192f97,{'commandName':'imageResize','commandParams':[_0x5e8885]});});}),_0x310210['plugins']['has']('ImageTextAlternativeEditing')&&_0x8a2d41['enableCommand']('imageTextAlternative',(_0x56f250,_0x41bb52)=>{const _0x5aeda1=_0x310210['model']['document']['selection']['getFirstRange']()['start']['nodeAfter'];(_0x5aeda1['hasAttribute']('alt')?_0x5aeda1['getAttribute']('alt'):'')!=_0x41bb52['newValue']&&_0x310210['model']['change'](()=>{_0x8a2d41['markBlockFormat'](_0x5aeda1,{'commandName':'imageTextAlternative','commandParams':[_0x41bb52]});});});const _0x41498f={},_0x25dfef=_0x7d1fde(this['editor']['config']['get']('image.styles'));for(const _0x37f1d0 of _0x25dfef)_0x41498f[_0x37f1d0['name']]=_0x37f1d0['title']['toLowerCase']();_0x8a2d41['_descriptionFactory']['registerDescriptionCallback'](_0x64e1c3=>{const {data:_0x2929d5}=_0x64e1c3;if(_0x2929d5)if('imageStyle'==_0x2929d5['commandName']){const _0x1712ec=_0x2929d5['commandParams'][0x0]['value'];switch(_0x1712ec){case'full':return _0x6cb801(t({'string':'full\x20width\x20image','id':'FORMAT_FULL_WIDTH_IMAGE'}));case'side':return _0x6cb801(t({'string':'side\x20image','id':'FORMAT_SIDE_IMAGE'}));default:return _0x6cb801(_0x41498f[_0x1712ec]||_0x1712ec);}}else{if('imageTextAlternative'==_0x2929d5['commandName']){const _0x1c3821=_0x2929d5['commandParams'][0x0]['newValue'];return _0x1c3821?{'type':'format','content':t('*Set\x20image\x20text\x20alternative:*\x20%0','\x22'+_0x1c3821+'\x22')}:{'type':'format','content':t('*Remove\x20image\x20text\x20alternative*')};}if('imageResize'==_0x2929d5['commandName']){const _0x2952c4=_0x2929d5['commandParams'][0x0]['width'];return _0x2952c4?{'type':'format','content':t('*Set\x20image\x20width:*\x20%0',_0x2952c4)}:{'type':'format','content':t('*Reset\x20image\x20width*')};}}function _0x6cb801(_0x2e357f){return{'type':'format','content':t('*Format:*\x20%0',_0x2e357f)};}});}}